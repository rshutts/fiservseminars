{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rstrasser\\\\Desktop\\\\My Stuff\\\\Seminars\\\\Sites\\\\fiservseminars\\\\src\\\\containers\\\\Profile\\\\UpdateProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Amplify, { Auth, Storage } from \"aws-amplify\";\nimport Sidenav from \"../../containers/SideNav\";\nimport { useHistory } from \"react-router-dom\";\nimport { HelpBlock, FormGroup, FormControl, FormLabel, Row } from \"react-bootstrap\";\nimport LoaderButton from \"../../components/LoaderButton\";\nimport { useFormFields } from \"../../libs/hooksLib\";\nimport { onError } from \"../../libs/errorLib\";\nimport config from '../../aws-config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAmplify.configure({\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\n  \"aws_appsync_region\": \"us-east-1\",\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n  Auth: {\n    region: config.aws_cognito_region,\n    userPoolId: config.aws_user_pools_id,\n    identityPoolId: config.aws_cognito_identity_pool_id,\n    userPoolWebClientId: config.aws_user_pools_client_id\n  },\n  Storage: {\n    bucket: config.aws_s3_bucket,\n    //REQUIRED -  Amazon S3 bucket\n    region: config.aws_s3_bucket_region,\n    //OPTIONAL -  Amazon service region\n    identityPoolId: config.aws_cognito_identity_pool_id\n  }\n});\nexport default function UpdateProfile() {\n  _s();\n\n  const history = useHistory();\n  const [codeSent, setCodeSent] = useState(false);\n  const [profile, setProfile] = useState({\n    email: \"\",\n    name: \"\",\n    bank: \"\",\n    title: \"\",\n    city: \"\",\n    state: \"\"\n  });\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isSendingCode, setIsSendingCode] = useState(false);\n\n  const onLoad = async () => {\n    try {\n      const user = await Auth.currentUserInfo();\n      console.log(user);\n      setProfile({\n        email: user.attributes.email,\n        name: user.attributes.name,\n        bank: user.attributes.given_name,\n        title: user.attributes.nickname,\n        city: user.attributes.locale,\n        state: user.attributes.address\n      });\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  const onSubmit = async data => {\n    const user = await Auth.currentAuthenticatedUser();\n    await Auth.updateUserAttributes(user, {\n      email: profile.email,\n      name: profile.name,\n      bank: profile.bank,\n      title: profile.title,\n      city: profile.city,\n      state: profile.state\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"next-steps my-5 content-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(Sidenav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content-update\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.email,\n              name: \"email\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  email: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.name,\n              name: \"name\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  name: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"bank\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Bank Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.bank,\n              name: \"bank\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  bank: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"title\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.title,\n              name: \"title\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  title: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"city\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.city,\n              name: \"city\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  city: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"state\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.state,\n              name: \"state\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  state: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(LoaderButton, {\n          block: true,\n          type: \"submit\",\n          bsSize: \"large\",\n          isLoading: isSendingCode\n          /* disabled={!validateEmailForm()} */\n          ,\n          children: \"Update Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UpdateProfile, \"v+7A7DiznTbyhqeTwizFbuo7rps=\", false, function () {\n  return [useHistory];\n});\n\n_c = UpdateProfile;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"sources":["C:/Users/rstrasser/Desktop/My Stuff/Seminars/Sites/fiservseminars/src/containers/Profile/UpdateProfile.js"],"names":["React","useState","useEffect","Amplify","Auth","Storage","Sidenav","useHistory","HelpBlock","FormGroup","FormControl","FormLabel","Row","LoaderButton","useFormFields","onError","config","configure","region","aws_cognito_region","userPoolId","aws_user_pools_id","identityPoolId","aws_cognito_identity_pool_id","userPoolWebClientId","aws_user_pools_client_id","bucket","aws_s3_bucket","aws_s3_bucket_region","UpdateProfile","history","codeSent","setCodeSent","profile","setProfile","email","name","bank","title","city","state","isConfirming","setIsConfirming","isSendingCode","setIsSendingCode","onLoad","user","currentUserInfo","console","log","attributes","given_name","nickname","locale","address","e","onSubmit","data","currentAuthenticatedUser","updateUserAttributes","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Amplify, { Auth, Storage } from \"aws-amplify\";\r\nimport Sidenav from \"../../containers/SideNav\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  HelpBlock,\r\n  FormGroup,\r\n  FormControl,\r\n  FormLabel,\r\n  Row\r\n} from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport { onError } from \"../../libs/errorLib\";\r\n\r\nimport config from '../../aws-config';\r\n\r\nAmplify.configure({\r\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n  \"aws_appsync_region\": \"us-east-1\",\r\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n  Auth: {\r\n    region: config.aws_cognito_region,\r\n    userPoolId: config.aws_user_pools_id,\r\n    identityPoolId: config.aws_cognito_identity_pool_id,\r\n    userPoolWebClientId: config.aws_user_pools_client_id\r\n  },    \r\n  Storage: {\r\n    bucket: config.aws_s3_bucket, //REQUIRED -  Amazon S3 bucket\r\n    region: config.aws_s3_bucket_region, //OPTIONAL -  Amazon service region\r\n    identityPoolId: config.aws_cognito_identity_pool_id\r\n  }\r\n});\r\n\r\n\r\nexport default function UpdateProfile() {\r\n  const history = useHistory();\r\n  const [codeSent, setCodeSent] = useState(false);\r\n  const [profile, setProfile] = useState({\r\n    email: \"\",\r\n    name: \"\",\r\n    bank: \"\",\r\n    title: \"\",\r\n    city: \"\",\r\n    state:  \"\"\r\n  });\r\n\r\n  const [isConfirming, setIsConfirming] = useState(false);\r\n  const [isSendingCode, setIsSendingCode] = useState(false);\r\n\r\n  const onLoad = async () => {\r\n    try {\r\n      const user = await Auth.currentUserInfo();\r\n      console.log(user)\r\n      setProfile({\r\n        email: user.attributes.email,\r\n        name: user.attributes.name,\r\n        bank: user.attributes.given_name,\r\n        title: user.attributes.nickname,\r\n        city: user.attributes.locale,\r\n        state: user.attributes.address\r\n      });\r\n    } catch(e) {\r\n \r\n    }\r\n    \r\n  }\r\n  useEffect(()=>{\r\n    onLoad();\r\n    }, []);\r\n    \r\n    const onSubmit = async data => {\r\n      const user = await Auth.currentAuthenticatedUser();\r\n      await Auth.updateUserAttributes(user, { \r\n        email: profile.email,\r\n        name: profile.name,\r\n        bank: profile.bank,\r\n        title: profile.title,\r\n        city: profile.city,\r\n        state: profile.state,\r\n      });\r\n    };\r\n\r\nreturn (\r\n  <div className=\"next-steps my-5 content-wrapper\">\r\n    <Sidenav />\r\n  <div className=\"main-content-update\">\r\n    <form onSubmit={onSubmit}>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"email\">\r\n        <FormLabel>Email</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.email}\r\n          name=\"email\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, email: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"name\">\r\n        <FormLabel>Name</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.name}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, name: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"bank\">\r\n        <FormLabel>Bank Name</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.bank}\r\n          name=\"bank\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, bank: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"title\">\r\n        <FormLabel>Title</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.title}\r\n          name=\"title\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, title: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"city\">\r\n        <FormLabel>City</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.city}\r\n          name=\"city\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, city: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"state\">\r\n        <FormLabel>State</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.state}\r\n          name=\"state\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, state: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <LoaderButton\r\n        block\r\n        type=\"submit\"\r\n        bsSize=\"large\"\r\n        isLoading={isSendingCode}\r\n        /* disabled={!validateEmailForm()} */\r\n      >\r\n        Update Profile\r\n      </LoaderButton>\r\n    </form>\r\n  </div>\r\n    \r\n  </div>     \r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}