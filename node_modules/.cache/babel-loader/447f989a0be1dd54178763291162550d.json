{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rstrasser\\\\Desktop\\\\My Stuff\\\\Seminars\\\\Sites\\\\fiservseminars\\\\src\\\\containers\\\\Profile\\\\UpdateProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Amplify, { Auth, Storage } from \"aws-amplify\";\nimport Sidenav from \"../../containers/SideNav\";\nimport { useHistory } from \"react-router-dom\";\nimport { HelpBlock, FormGroup, FormControl, FormLabel, Row, Button } from \"react-bootstrap\";\nimport LoaderButton from \"../../components/LoaderButton\";\nimport { useFormFields } from \"../../libs/hooksLib\";\nimport { onError } from \"../../libs/errorLib\";\nimport config from '../../aws-config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAmplify.configure({\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\n  \"aws_appsync_region\": \"us-east-1\",\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n  Auth: {\n    region: config.aws_cognito_region,\n    userPoolId: config.aws_user_pools_id,\n    identityPoolId: config.aws_cognito_identity_pool_id,\n    userPoolWebClientId: config.aws_user_pools_client_id\n  },\n  Storage: {\n    bucket: config.aws_s3_bucket,\n    //REQUIRED -  Amazon S3 bucket\n    region: config.aws_s3_bucket_region,\n    //OPTIONAL -  Amazon service region\n    identityPoolId: config.aws_cognito_identity_pool_id\n  }\n});\nexport default function UpdateProfile() {\n  _s();\n\n  const history = useHistory();\n  const [codeSent, setCodeSent] = useState(false);\n  const [profile, setProfile] = useState({\n    email: \"\",\n    name: \"\",\n    given_name: \"\",\n    nickname: \"\",\n    locale: \"\",\n    address: \"\"\n  });\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isSendingCode, setIsSendingCode] = useState(false);\n\n  const onLoad = async () => {\n    try {\n      const user = await Auth.currentUserInfo();\n      console.log(user);\n      setProfile({\n        email: user.attributes.email,\n        name: user.attributes.name,\n        given_name: user.attributes.given_name,\n        nickname: user.attributes.nickname,\n        locale: user.attributes.locale,\n        address: user.attributes.address\n      });\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  const onSubmit = async data => {\n    const user = await Auth.currentAuthenticatedUser();\n    await Auth.updateUserAttributes(user, {\n      email: profile.email,\n      name: profile.name,\n      given_name: profile.given_name,\n      nickname: profile.nickname,\n      locale: profile.locale,\n      address: profile.address\n    });\n    console.log(user);\n  };\n\n  const onClickHandler = e => {\n    history.push('/profile');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"next-steps my-5 content-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(Sidenav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content-update\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(PhotoUpload, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.email,\n              name: \"email\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  email: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.name,\n              name: \"name\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  name: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"profile.given_name\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Bank Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.given_name,\n              name: \"bank\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  given_name: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"nickname\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.nickname,\n              name: \"title\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  nickname: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"profile.locale\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.locale,\n              name: \"city\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  locale: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            bsSize: \"large\",\n            controlId: \"profile.address\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              autoFocus: true,\n              value: profile.address,\n              name: \"state\",\n              type: \"text\",\n              onChange: e => {\n                setProfile({ ...profile,\n                  address: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(LoaderButton, {\n          block: true,\n          type: \"submit\",\n          bsSize: \"large\",\n          isLoading: isSendingCode\n          /* onClick={onClickHandler} */\n\n          /* disabled={!validateEmailForm()} */\n          ,\n          children: \"Update Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UpdateProfile, \"UcyPSUIhHjmWQRHF2EnYVw80pl4=\", false, function () {\n  return [useHistory];\n});\n\n_c = UpdateProfile;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"sources":["C:/Users/rstrasser/Desktop/My Stuff/Seminars/Sites/fiservseminars/src/containers/Profile/UpdateProfile.js"],"names":["React","useState","useEffect","Amplify","Auth","Storage","Sidenav","useHistory","HelpBlock","FormGroup","FormControl","FormLabel","Row","Button","LoaderButton","useFormFields","onError","config","configure","region","aws_cognito_region","userPoolId","aws_user_pools_id","identityPoolId","aws_cognito_identity_pool_id","userPoolWebClientId","aws_user_pools_client_id","bucket","aws_s3_bucket","aws_s3_bucket_region","UpdateProfile","history","codeSent","setCodeSent","profile","setProfile","email","name","given_name","nickname","locale","address","isConfirming","setIsConfirming","isSendingCode","setIsSendingCode","onLoad","user","currentUserInfo","console","log","attributes","e","onSubmit","data","currentAuthenticatedUser","updateUserAttributes","onClickHandler","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Amplify, { Auth, Storage } from \"aws-amplify\";\r\nimport Sidenav from \"../../containers/SideNav\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  HelpBlock,\r\n  FormGroup,\r\n  FormControl,\r\n  FormLabel,\r\n  Row,\r\n  Button\r\n} from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport { onError } from \"../../libs/errorLib\";\r\n\r\nimport config from '../../aws-config';\r\n\r\nAmplify.configure({\r\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n  \"aws_appsync_region\": \"us-east-1\",\r\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n  Auth: {\r\n    region: config.aws_cognito_region,\r\n    userPoolId: config.aws_user_pools_id,\r\n    identityPoolId: config.aws_cognito_identity_pool_id,\r\n    userPoolWebClientId: config.aws_user_pools_client_id\r\n  },    \r\n  Storage: {\r\n    bucket: config.aws_s3_bucket, //REQUIRED -  Amazon S3 bucket\r\n    region: config.aws_s3_bucket_region, //OPTIONAL -  Amazon service region\r\n    identityPoolId: config.aws_cognito_identity_pool_id\r\n  }\r\n});\r\n\r\n\r\nexport default function UpdateProfile() {\r\n  const history = useHistory();\r\n  const [codeSent, setCodeSent] = useState(false);\r\n  const [profile, setProfile] = useState({\r\n    email: \"\",\r\n    name: \"\",\r\n    given_name: \"\",\r\n    nickname: \"\",\r\n    locale: \"\",\r\n    address: \"\",\r\n  });\r\n\r\n  const [isConfirming, setIsConfirming] = useState(false);\r\n  const [isSendingCode, setIsSendingCode] = useState(false);\r\n\r\n  const onLoad = async () => {\r\n    try {\r\n      const user = await Auth.currentUserInfo();\r\n      console.log(user)\r\n      setProfile({\r\n        email: user.attributes.email,\r\n        name: user.attributes.name,\r\n        given_name: user.attributes.given_name,\r\n        nickname:user.attributes.nickname,\r\n        locale:user.attributes.locale,\r\n        address:user.attributes.address\r\n      });\r\n    } catch(e) {\r\n\r\n    }\r\n    \r\n  }\r\n  useEffect(()=>{\r\n    onLoad();\r\n    }, []);\r\n    \r\n    const onSubmit = async data => {\r\n      const user = await Auth.currentAuthenticatedUser();\r\n      \r\n      await Auth.updateUserAttributes(user, { \r\n        email: profile.email,\r\n        name: profile.name,\r\n        given_name: profile.given_name,\r\n        nickname: profile.nickname,\r\n        locale: profile.locale,\r\n        address: profile.address\r\n      });console.log(user)\r\n    };\r\n    const onClickHandler = (e) => {\r\n      history.push('/profile')\r\n    }\r\nreturn (\r\n  <div className=\"next-steps my-5 content-wrapper\">\r\n    <Sidenav />\r\n  <div className=\"main-content-update\">\r\n    <form onSubmit={onSubmit}>\r\n      <PhotoUpload/>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"email\">\r\n        <FormLabel>Email</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.email}\r\n          name=\"email\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, email: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"name\">\r\n        <FormLabel>Name</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.name}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, name: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"profile.given_name\">\r\n        <FormLabel>Bank Name</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.given_name}\r\n          name=\"bank\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, given_name: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"nickname\">\r\n        <FormLabel>Title</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.nickname}\r\n          name=\"title\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, nickname: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <Row>\r\n        <FormGroup bsSize=\"large\" controlId=\"profile.locale\">\r\n        <FormLabel>City</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.locale}\r\n          name=\"city\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, locale: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup bsSize=\"large\" controlId=\"profile.address\">\r\n        <FormLabel>State</FormLabel>\r\n        <FormControl\r\n          autoFocus\r\n          value={profile.address}\r\n          name=\"state\"\r\n          type=\"text\"\r\n          onChange={e => {\r\n            setProfile({ ...profile, address: e.target.value });\r\n          }}\r\n        />\r\n      </FormGroup>\r\n      </Row>\r\n      <LoaderButton\r\n        block\r\n        type=\"submit\"\r\n        bsSize=\"large\"\r\n        isLoading={isSendingCode}\r\n        /* onClick={onClickHandler} */\r\n        /* disabled={!validateEmailForm()} */\r\n      >\r\n        Update Profile\r\n      </LoaderButton>\r\n    </form>\r\n  </div>\r\n    \r\n  </div>     \r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}