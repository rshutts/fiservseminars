{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rstrasser\\\\Desktop\\\\My Stuff\\\\Seminars\\\\Sites\\\\fiservseminars\\\\src\\\\containers\\\\Chat\\\\profileImage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Amplify, { Auth, Storage } from 'aws-amplify';\nimport { useFormFields } from \"../../libs/hooksLib\";\nimport { onError } from \"../../libs/errorLib\";\nimport config from '../../aws-config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAmplify.configure({\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\n  \"aws_appsync_region\": \"us-east-1\",\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n  Auth: {\n    region: config.aws_cognito_region,\n    userPoolId: config.aws_user_pools_id,\n    identityPoolId: config.aws_cognito_identity_pool_id,\n    userPoolWebClientId: config.aws_user_pools_client_id\n  },\n  Storage: {\n    bucket: config.aws_s3_bucket,\n    region: config.aws_s3_bucket_region,\n    identityPoolId: config.aws_cognito_identity_pool_id\n  }\n});\nexport default function ProfileImage() {\n  _s();\n\n  const [image, setImage] = useState([]);\n  const [userID, setUser] = useState({\n    id: \"\"\n  });\n  let fileInput = /*#__PURE__*/React.createRef();\n  useEffect(() => {\n    async function getUser() {\n      const user = await Auth.currentUserInfo();\n      setUser({\n        userID: user.id\n      });\n      console.log(user.id);\n    }\n\n    getUser();\n  }, []);\n  useEffect(() => {\n    onPageRendered();\n  }, []);\n\n  const onPageRendered = async () => {\n    getProfilePicture();\n  };\n\n  const getProfilePicture = () => {\n    Storage.get(`${userID}/profile.png`, {\n      level: 'private'\n    }).then(url => {\n      var myRequest = new Request(url);\n      fetch(myRequest).then(function (response) {\n        if (response.status === 200) {\n          setImage(url);\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      height: \"50px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileImage, \"k4Bipcmk3dHvD7aVGAvqGSUMFaU=\");\n\n_c = ProfileImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileImage\");","map":{"version":3,"sources":["C:/Users/rstrasser/Desktop/My Stuff/Seminars/Sites/fiservseminars/src/containers/Chat/profileImage.js"],"names":["React","useState","useEffect","Amplify","Auth","Storage","useFormFields","onError","config","configure","region","aws_cognito_region","userPoolId","aws_user_pools_id","identityPoolId","aws_cognito_identity_pool_id","userPoolWebClientId","aws_user_pools_client_id","bucket","aws_s3_bucket","aws_s3_bucket_region","ProfileImage","image","setImage","userID","setUser","id","fileInput","createRef","getUser","user","currentUserInfo","console","log","onPageRendered","getProfilePicture","get","level","then","url","myRequest","Request","fetch","response","status","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,IAAkBC,IAAlB,EAAwBC,OAAxB,QAAuC,aAAvC;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEAL,OAAO,CAACM,SAAR,CAAkB;AAChB,iCAA+B,gFADf;AAEhB,wBAAsB,WAFN;AAGhB,oCAAkC,2BAHlB;AAIhBL,EAAAA,IAAI,EAAE;AACJM,IAAAA,MAAM,EAAEF,MAAM,CAACG,kBADX;AAEJC,IAAAA,UAAU,EAAEJ,MAAM,CAACK,iBAFf;AAGJC,IAAAA,cAAc,EAAEN,MAAM,CAACO,4BAHnB;AAIJC,IAAAA,mBAAmB,EAAER,MAAM,CAACS;AAJxB,GAJU;AAUhBZ,EAAAA,OAAO,EAAE;AACPa,IAAAA,MAAM,EAAEV,MAAM,CAACW,aADR;AAEPT,IAAAA,MAAM,EAAEF,MAAM,CAACY,oBAFR;AAGPN,IAAAA,cAAc,EAAEN,MAAM,CAACO;AAHhB;AAVO,CAAlB;AAiBA,eAAe,SAASM,YAAT,GAAwB;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACuB,MAAD,EAASC,OAAT,IAAoBxB,QAAQ,CAAC;AACjCyB,IAAAA,EAAE,EAAE;AAD6B,GAAD,CAAlC;AAIA,MAAIC,SAAS,gBAAG3B,KAAK,CAAC4B,SAAN,EAAhB;AAEA1B,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAe2B,OAAf,GAAyB;AACvB,YAAMC,IAAI,GAAG,MAAM1B,IAAI,CAAC2B,eAAL,EAAnB;AACAN,MAAAA,OAAO,CAAC;AACND,QAAAA,MAAM,EAAEM,IAAI,CAACJ;AADP,OAAD,CAAP;AAEGM,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACJ,EAAjB;AACJ;;AACDG,IAAAA,OAAO;AACR,GARQ,EAQN,EARM,CAAT;AAUA3B,EAAAA,SAAS,CAAC,MAAM;AACdgC,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,cAAc,GAAG,YAAY;AACjCC,IAAAA,iBAAiB;AAClB,GAFD;;AAIA,QAAMA,iBAAiB,GAAG,MAAM;AAC9B9B,IAAAA,OAAO,CAAC+B,GAAR,CAAa,GAAEZ,MAAO,cAAtB,EAAqC;AAACa,MAAAA,KAAK,EAAE;AAAR,KAArC,EACGC,IADH,CACQC,GAAG,IAAI;AACX,UAAIC,SAAS,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,CAAhB;AACAG,MAAAA,KAAK,CAACF,SAAD,CAAL,CAAiBF,IAAjB,CAAsB,UAASK,QAAT,EAAmB;AACvC,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BrB,UAAAA,QAAQ,CAACgB,GAAD,CAAR;AACD;AACF,OAJD;AAKD,KARH,EASGM,KATH,CASSC,GAAG,IAAId,OAAO,CAACC,GAAR,CAAYa,GAAZ,CAThB;AAWD,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI;AAAK,MAAA,GAAG,EAAExB,KAAV;AAAiB,MAAA,MAAM,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA7CuBD,Y;;KAAAA,Y","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Amplify, { Auth, Storage } from 'aws-amplify';\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport { onError } from \"../../libs/errorLib\";\r\n\r\nimport config from '../../aws-config';\r\n\r\nAmplify.configure({\r\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n  \"aws_appsync_region\": \"us-east-1\",\r\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n  Auth: {\r\n    region: config.aws_cognito_region,\r\n    userPoolId: config.aws_user_pools_id,\r\n    identityPoolId: config.aws_cognito_identity_pool_id,\r\n    userPoolWebClientId: config.aws_user_pools_client_id\r\n  },    \r\n  Storage: {\r\n    bucket: config.aws_s3_bucket,\r\n    region: config.aws_s3_bucket_region,\r\n    identityPoolId: config.aws_cognito_identity_pool_id\r\n  }\r\n});\r\n\r\nexport default function ProfileImage() {\r\n  const [image, setImage] = useState([]);\r\n  const [userID, setUser] = useState({\r\n    id: \"\",\r\n  });\r\n\r\n  let fileInput = React.createRef();\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      const user = await Auth.currentUserInfo();\r\n      setUser({\r\n        userID: user.id,\r\n      });console.log(user.id)\r\n    }\r\n    getUser();\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    onPageRendered();\r\n  }, []);\r\n\r\n  const onPageRendered = async () => {\r\n    getProfilePicture();\r\n  };\r\n  \r\n  const getProfilePicture = () => {\r\n    Storage.get(`${userID}/profile.png`, {level: 'private'})\r\n      .then(url => {\r\n        var myRequest = new Request(url);\r\n        fetch(myRequest).then(function(response) {\r\n          if (response.status === 200) {\r\n            setImage(url);\r\n          }\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n      \r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <img src={image} height=\"50px\"/>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}