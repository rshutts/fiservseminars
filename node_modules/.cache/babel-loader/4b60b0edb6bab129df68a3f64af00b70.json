{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rstrasser\\\\Desktop\\\\My Stuff\\\\Seminars\\\\Sites\\\\fiservseminars\\\\src\\\\containers\\\\Chat\\\\profileImage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Amplify, { Auth, Storage } from 'aws-amplify';\nimport { useFormFields } from \"../../libs/hooksLib\";\nimport { onError } from \"../../libs/errorLib\";\nimport config from '../../aws-config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAmplify.configure({\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\n  \"aws_appsync_region\": \"us-east-1\",\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n  Auth: {\n    region: config.aws_cognito_region,\n    userPoolId: config.aws_user_pools_id,\n    identityPoolId: config.aws_cognito_identity_pool_id,\n    userPoolWebClientId: config.aws_user_pools_client_id\n  },\n  Storage: {\n    bucket: config.aws_s3_bucket,\n    region: config.aws_s3_bucket_region,\n    identityPoolId: config.aws_cognito_identity_pool_id\n  }\n});\nexport default function ProfileImage() {\n  _s();\n\n  const [image, setImage] = useState([]);\n  const [username, setUsername] = useState(null);\n  let fileInput = /*#__PURE__*/React.createRef();\n  useEffect(() => {\n    async function getUsername() {\n      const user = await Auth.currentUserInfo();\n      const username = user.username;\n      setUsername(username);\n      console.log(username);\n    }\n\n    getUsername();\n  }, []);\n  useEffect(() => {\n    onPageRendered();\n  }, []);\n\n  const onPageRendered = async () => {\n    getProfilePicture();\n  };\n\n  const getProfilePicture = () => {\n    Storage.get(`${username}-profile.png`, {\n      level: 'private'\n    }).then(url => {\n      var myRequest = new Request(url);\n      fetch(myRequest).then(function (response) {\n        if (response.status === 200) {\n          setImage(url);\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      height: \"50px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileImage, \"z6rgld9J0A69I8sQ5xFyo1HJLDQ=\");\n\n_c = ProfileImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileImage\");","map":{"version":3,"sources":["C:/Users/rstrasser/Desktop/My Stuff/Seminars/Sites/fiservseminars/src/containers/Chat/profileImage.js"],"names":["React","useState","useEffect","Amplify","Auth","Storage","useFormFields","onError","config","configure","region","aws_cognito_region","userPoolId","aws_user_pools_id","identityPoolId","aws_cognito_identity_pool_id","userPoolWebClientId","aws_user_pools_client_id","bucket","aws_s3_bucket","aws_s3_bucket_region","ProfileImage","image","setImage","username","setUsername","fileInput","createRef","getUsername","user","currentUserInfo","console","log","onPageRendered","getProfilePicture","get","level","then","url","myRequest","Request","fetch","response","status","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,IAAkBC,IAAlB,EAAwBC,OAAxB,QAAuC,aAAvC;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEAL,OAAO,CAACM,SAAR,CAAkB;AAChB,iCAA+B,gFADf;AAEhB,wBAAsB,WAFN;AAGhB,oCAAkC,2BAHlB;AAIhBL,EAAAA,IAAI,EAAE;AACJM,IAAAA,MAAM,EAAEF,MAAM,CAACG,kBADX;AAEJC,IAAAA,UAAU,EAAEJ,MAAM,CAACK,iBAFf;AAGJC,IAAAA,cAAc,EAAEN,MAAM,CAACO,4BAHnB;AAIJC,IAAAA,mBAAmB,EAAER,MAAM,CAACS;AAJxB,GAJU;AAUhBZ,EAAAA,OAAO,EAAE;AACPa,IAAAA,MAAM,EAAEV,MAAM,CAACW,aADR;AAEPT,IAAAA,MAAM,EAAEF,MAAM,CAACY,oBAFR;AAGPN,IAAAA,cAAc,EAAEN,MAAM,CAACO;AAHhB;AAVO,CAAlB;AAiBA,eAAe,SAASM,YAAT,GAAwB;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,IAAD,CAAxC;AAEA,MAAIyB,SAAS,gBAAG1B,KAAK,CAAC2B,SAAN,EAAhB;AAEAzB,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAe0B,WAAf,GAA6B;AACzB,YAAMC,IAAI,GAAG,MAAMzB,IAAI,CAAC0B,eAAL,EAAnB;AACA,YAAMN,QAAQ,GAAGK,IAAI,CAACL,QAAtB;AACAC,MAAAA,WAAW,CAACD,QAAD,CAAX;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACH;;AACDI,IAAAA,WAAW;AACb,GARS,EAQP,EARO,CAAT;AASA1B,EAAAA,SAAS,CAAC,MAAM;AACd+B,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,cAAc,GAAG,YAAY;AACjCC,IAAAA,iBAAiB;AAClB,GAFD;;AAIA,QAAMA,iBAAiB,GAAG,MAAM;AAC9B7B,IAAAA,OAAO,CAAC8B,GAAR,CAAa,GAAEX,QAAS,cAAxB,EAAuC;AAACY,MAAAA,KAAK,EAAE;AAAR,KAAvC,EACGC,IADH,CACQC,GAAG,IAAI;AACX,UAAIC,SAAS,GAAG,IAAIC,OAAJ,CAAYF,GAAZ,CAAhB;AACAG,MAAAA,KAAK,CAACF,SAAD,CAAL,CAAiBF,IAAjB,CAAsB,UAASK,QAAT,EAAmB;AACvC,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BpB,UAAAA,QAAQ,CAACe,GAAD,CAAR;AACD;AACF,OAJD;AAKD,KARH,EASGM,KATH,CASSC,GAAG,IAAId,OAAO,CAACC,GAAR,CAAYa,GAAZ,CAThB;AAWD,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI;AAAK,MAAA,GAAG,EAAEvB,KAAV;AAAiB,MAAA,MAAM,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA1CuBD,Y;;KAAAA,Y","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Amplify, { Auth, Storage } from 'aws-amplify';\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport { onError } from \"../../libs/errorLib\";\r\n\r\nimport config from '../../aws-config';\r\n\r\nAmplify.configure({\r\n  \"aws_appsync_graphqlEndpoint\": \"https://qssh4niq5bgujocnsbpv2zg7am.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n  \"aws_appsync_region\": \"us-east-1\",\r\n  \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n  Auth: {\r\n    region: config.aws_cognito_region,\r\n    userPoolId: config.aws_user_pools_id,\r\n    identityPoolId: config.aws_cognito_identity_pool_id,\r\n    userPoolWebClientId: config.aws_user_pools_client_id\r\n  },    \r\n  Storage: {\r\n    bucket: config.aws_s3_bucket,\r\n    region: config.aws_s3_bucket_region,\r\n    identityPoolId: config.aws_cognito_identity_pool_id\r\n  }\r\n});\r\n\r\nexport default function ProfileImage() {\r\n  const [image, setImage] = useState([]);\r\n  const [username, setUsername] = useState(null);\r\n\r\n  let fileInput = React.createRef();\r\n  \r\n  useEffect(() => {\r\n    async function getUsername() {\r\n        const user = await Auth.currentUserInfo();\r\n        const username = user.username\r\n        setUsername(username);\r\n        console.log(username)\r\n    }\r\n    getUsername();\r\n }, [])\r\n  useEffect(() => {\r\n    onPageRendered();\r\n  }, []);\r\n\r\n  const onPageRendered = async () => {\r\n    getProfilePicture();\r\n  };\r\n  \r\n  const getProfilePicture = () => {\r\n    Storage.get(`${username}-profile.png`, {level: 'private'})\r\n      .then(url => {\r\n        var myRequest = new Request(url);\r\n        fetch(myRequest).then(function(response) {\r\n          if (response.status === 200) {\r\n            setImage(url);\r\n          }\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n      \r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <img src={image} height=\"50px\"/>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}